{"version":3,"file":"notistack.esm.js","sources":["../src/utils/constants.ts","../src/SnackbarContainer.tsx","../src/SnackbarContext.ts","../src/SnackbarContent/SnackbarContent.tsx","../src/utils/createChainedFunction.js","../src/utils/defaultIconVariants.tsx","../src/utils/useEventCallback.js","../src/SnackbarItem/Snackbar.js","../src/SnackbarItem/SnackbarItem.util.ts","../src/SnackbarItem/SnackbarItem.tsx","../src/utils/warning.ts","../src/SnackbarProvider.tsx","../src/utils/getDisplayName.js","../src/withSnackbar.js","../src/useSnackbar.ts"],"sourcesContent":["import Slide from '@material-ui/core/Slide';\nimport { SnackbarClassKey } from '@material-ui/core/Snackbar';\nimport { CloseReason, ContainerClassKey, VariantType, SnackbarOrigin, VariantClassKey } from '../index';\nimport { Snack } from '../SnackbarProvider';\n\nexport const MESSAGES = {\n\tNO_PERSIST_ALL:\n\t\t\"WARNING - notistack: Reached maxSnack while all enqueued snackbars have 'persist' flag. Notistack will dismiss the oldest snackbar anyway to allow other ones in the queue to be presented.\",\n};\n\nexport const SNACKBAR_INDENTS = {\n\tview: { default: 20, dense: 4 },\n\tsnackbar: { default: 6, dense: 2 },\n};\n\nexport const DEFAULTS = {\n\tmaxSnack: 3,\n\tdense: false,\n\thideIconVariant: false,\n\tvariant: 'default' as VariantType,\n\tautoHideDuration: 5000,\n\tanchorOrigin: { vertical: 'bottom', horizontal: 'left' } as SnackbarOrigin,\n\tTransitionComponent: Slide,\n\ttransitionDuration: {\n\t\tenter: 225,\n\t\texit: 195,\n\t},\n};\n\nexport const capitalise = (text: string): string => text.charAt(0).toUpperCase() + text.slice(1);\n\nexport const originKeyExtractor = (anchor: Snack['anchorOrigin']): string => `${capitalise(anchor.vertical)}${capitalise(anchor.horizontal)}`;\n\nexport const REASONS: { [key: string]: CloseReason } = {\n\tTIMEOUT: 'timeout',\n\tCLICKAWAY: 'clickaway',\n\tMAXSNACK: 'maxsnack',\n\tINSTRUCTED: 'instructed',\n};\n\n/** Tranforms classes name */\nexport const transformer = {\n\ttoContainerAnchorOrigin: (origin: string) => `containerAnchorOrigin${origin}` as ContainerClassKey,\n\ttoAnchorOrigin: ({ vertical, horizontal }: SnackbarOrigin) => `anchorOrigin${capitalise(vertical)}${capitalise(horizontal)}` as SnackbarClassKey,\n\ttoVariant: (variant: VariantType) => `variant${capitalise(variant)}` as VariantClassKey,\n};\n\nexport const isDefined = (value: string | null | undefined | number): boolean => !!value || value === 0;\n\nconst numberOrNull = (numberish?: number | null) => typeof numberish === 'number' || numberish === null;\n\n// @ts-ignore\nexport const merge = (options, props, defaults) => (name: keyof Snack): any => {\n\tif (name === 'autoHideDuration') {\n\t\tif (numberOrNull(options.autoHideDuration)) return options.autoHideDuration;\n\t\tif (numberOrNull(props.autoHideDuration)) return props.autoHideDuration;\n\t\treturn DEFAULTS.autoHideDuration;\n\t}\n\n\treturn options[name] || props[name] || defaults[name];\n};\n\nexport function objectMerge(options = {}, props = {}, defaults = {}) {\n\treturn {\n\t\t...defaults,\n\t\t...props,\n\t\t...options,\n\t};\n}\n","import { css } from '@emotion/react';\nimport { styled, Theme } from '@material-ui/core/styles';\nimport React from 'react';\nimport { SnackbarProviderProps } from '.';\nimport { SNACKBAR_INDENTS } from './utils/constants';\n\nconst collapse = {\n\tcontainer: '& > .MuiCollapse-container',\n\twrapper: '& > .MuiCollapse-container > .MuiCollapse-wrapper',\n};\n\nconst xsWidthMargin = 16;\n\ninterface SnackbarContainerProps {\n\tdense: SnackbarProviderProps['dense'];\n\tanchorOrigin: NonNullable<SnackbarProviderProps['anchorOrigin']>;\n}\n\nconst rootDense = css`\n\t${collapse.wrapper} {\n\t\tpadding: ${SNACKBAR_INDENTS.snackbar.dense}px 0px;\n\t}\n`;\n\nconst top = css`\n\ttop: ${SNACKBAR_INDENTS.view.default - SNACKBAR_INDENTS.snackbar.default}px;\n\tflex-direction: column;\n`;\n\nconst bottom = css`\n\tbottom: ${SNACKBAR_INDENTS.view.default - SNACKBAR_INDENTS.snackbar.default}px;\n\tflex-direction: column-reverse;\n`;\n\nconst left = (theme: Theme) => css`\n\tleft: ${SNACKBAR_INDENTS.view.default}px;\n\t${theme.breakpoints.up('sm')} {\n\t\talign-items: flex-start;\n\t}\n\t${theme.breakpoints.down('xs')} {\n\t\tleft: ${xsWidthMargin}px;\n\t}\n`;\n\nconst right = (theme: Theme) => css`\n\tright: ${SNACKBAR_INDENTS.view.default}px;\n\t${theme.breakpoints.up('sm')} {\n\t\talign-items: flex-end;\n\t}\n\t${theme.breakpoints.down('xs')} {\n\t\tright: ${xsWidthMargin}px;\n\t}\n`;\n\nconst SnackbarContainer = styled('div')<SnackbarContainerProps>`\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tmax-height: 100%;\n\tposition: fixed;\n\tz-index: ${(props) => props.theme.zIndex.snackbar};\n\theight: auto;\n\twidth: auto;\n\ttransition: top 300ms ease 0ms, right 300ms ease 0ms, bottom 300ms ease 0ms, left 300ms ease 0ms, margin 300ms ease 0ms, max-width 300ms ease 0ms;\n\t// container itself is invisible and should not block clicks, clicks should be passed to its children\n\tpointer-events: 'none';\n\n\t${collapse.container} {\n\t\tpointer-events: 'all';\n\t}\n\t${collapse.wrapper} {\n\t\tpadding: ${SNACKBAR_INDENTS.snackbar.default}px 0px;\n\t\ttransition: padding 300ms ease 0ms;\n\t}\n\n\tmax-width: calc(100% - ${SNACKBAR_INDENTS.view.default * 2}px);\n\n\t${(props) => props.theme.breakpoints.down('xs')} {\n\t\twidth: 100%;\n\t\tmax-width: calc(100% - ${xsWidthMargin * 2}px);\n\t}\n\n\t${(props) => props.dense && rootDense}\n\n\t${(props) => props.anchorOrigin.vertical === 'top' && top}\n\t${(props) => props.anchorOrigin.horizontal === 'right' && right(props.theme)}\n\t${(props) => props.anchorOrigin.vertical === 'bottom' && bottom}\n\t${(props) => props.anchorOrigin.horizontal === 'left' && left(props.theme)}\n`;\n\nexport default React.memo(SnackbarContainer);\n","import React from 'react';\nimport { ProviderContext } from '.';\n\n// @ts-ignore\nexport default React.createContext<ProviderContext>();\n","import { styled } from '@material-ui/core/styles';\nimport { SnackbarContentProps } from '../index';\n\nconst SnackbarContent = styled('div')<SnackbarContentProps>`\n\tdisplay: flex;\n\tflex-wrap: flex;\n\tflex-grow: 1;\n\n\t${(props) => props.theme.breakpoints.up('sm')} {\n\t\tflex-grow: initial;\n\t\tmin-width: 288;\n\t}\n`;\n\nexport default SnackbarContent;\n","/**\n * @link https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/utils/createChainedFunction.js\n */\nexport default function createChainedFunction(funcs, extraArg) {\n    return funcs.reduce((acc, func) => {\n        if (func == null) return acc;\n\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof func !== 'function') {\n                // eslint-disable-next-line no-console\n                console.error('Invalid Argument Type. must only provide functions, undefined, or null.');\n            }\n        }\n\n        return function chainedFunction(...args) {\n            const argums = [...args];\n            if (extraArg && argums.indexOf(extraArg) === -1) {\n                argums.push(extraArg);\n            }\n            acc.apply(this, argums);\n            func.apply(this, argums);\n        };\n    }, () => { });\n}\n","import React from 'react';\nimport SvgIcon, { SvgIconProps } from '@material-ui/core/SvgIcon';\nimport { IconVariant } from '../index';\n\ntype Icon = (props: SvgIconProps) => JSX.Element;\n\nconst CheckIcon: Icon = props => (\n    <SvgIcon {...props}>\n        <path d=\"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41\n        10.59L10 14.17L17.59 6.58L19 8L10 17Z\" />\n    </SvgIcon>\n);\n\nconst WarningIcon: Icon = props => (\n    <SvgIcon {...props}>\n        <path d=\"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z\" />\n    </SvgIcon>\n);\n\nconst ErrorIcon: Icon = props => (\n    <SvgIcon {...props}>\n        <path d=\"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,\n        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,\n        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z\" />\n    </SvgIcon>\n);\n\nconst InfoIcon: Icon = props => (\n    <SvgIcon {...props}>\n        <path d=\"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,\n        0 22,12A10,10 0 0,0 12,2Z\" />\n    </SvgIcon>\n);\n\nconst iconStyles = {\n    fontSize: 20,\n    marginInlineEnd: 8,\n};\n\nconst defaultIconVariants: IconVariant = {\n    default: undefined,\n    success: <CheckIcon style={iconStyles} />,\n    warning: <WarningIcon style={iconStyles} />,\n    error: <ErrorIcon style={iconStyles} />,\n    info: <InfoIcon style={iconStyles} />,\n};\n\nexport default defaultIconVariants;\n","/**\n * @link https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/utils/useEventCallback.js\n */\nimport * as React from 'react';\n\nconst useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\nexport default function useEventCallback(fn) {\n    const ref = React.useRef(fn);\n    useEnhancedEffect(() => {\n        ref.current = fn;\n    });\n    return React.useCallback((...args) => (0, ref.current)(...args), []);\n}\n","/**\n * @link https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/Snackbar/Snackbar.js\n */\nimport * as React from 'react';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport { REASONS } from '../utils/constants';\nimport useEventCallback from '../utils/useEventCallback';\n\nconst Snackbar = React.forwardRef((props, ref) => {\n    const {\n        children,\n        autoHideDuration,\n        ClickAwayListenerProps,\n        disableWindowBlurListener = false,\n        onClose,\n        onMouseEnter,\n        onMouseLeave,\n        open,\n        resumeHideDuration,\n        ...other\n    } = props;\n\n    const timerAutoHide = React.useRef();\n\n    const handleClose = useEventCallback((...args) => {\n        if (onClose) {\n            onClose(...args);\n        }\n    });\n\n    const setAutoHideTimer = useEventCallback((autoHideDurationParam) => {\n        if (!onClose || autoHideDurationParam == null) {\n            return;\n        }\n\n        clearTimeout(timerAutoHide.current);\n        timerAutoHide.current = setTimeout(() => {\n            handleClose(null, REASONS.TIMEOUT);\n        }, autoHideDurationParam);\n    });\n\n    React.useEffect(() => {\n        if (open) {\n            setAutoHideTimer(autoHideDuration);\n        }\n\n        return () => {\n            clearTimeout(timerAutoHide.current);\n        };\n    }, [open, autoHideDuration, setAutoHideTimer]);\n\n    /**\n     * Pause the timer when the user is interacting with the Snackbar\n     * or when the user hide the window.\n     */\n    const handlePause = () => {\n        clearTimeout(timerAutoHide.current);\n    };\n\n    /**\n     * Restart the timer when the user is no longer interacting with the Snackbar\n     * or when the window is shown back.\n     */\n    const handleResume = React.useCallback(() => {\n        if (autoHideDuration != null) {\n            setAutoHideTimer(resumeHideDuration != null ? resumeHideDuration : autoHideDuration * 0.5);\n        }\n    }, [autoHideDuration, resumeHideDuration, setAutoHideTimer]);\n\n    const handleMouseEnter = (event) => {\n        if (onMouseEnter) {\n            onMouseEnter(event);\n        }\n        handlePause();\n    };\n\n    const handleMouseLeave = (event) => {\n        if (onMouseLeave) {\n            onMouseLeave(event);\n        }\n        handleResume();\n    };\n\n    const handleClickAway = (event) => {\n        if (onClose) {\n            onClose(event, REASONS.CLICKAWAY);\n        }\n    };\n\n    React.useEffect(() => {\n        if (!disableWindowBlurListener && open) {\n            window.addEventListener('focus', handleResume);\n            window.addEventListener('blur', handlePause);\n\n            return () => {\n                window.removeEventListener('focus', handleResume);\n                window.removeEventListener('blur', handlePause);\n            };\n        }\n\n        return undefined;\n    }, [disableWindowBlurListener, handleResume, open]);\n\n    return (\n        <ClickAwayListener onClickAway={handleClickAway} {...ClickAwayListenerProps}>\n            <div onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave} ref={ref} {...other}>\n                {children}\n            </div>\n        </ClickAwayListener>\n    );\n});\n\nexport default Snackbar;\n","import { Snack } from '../SnackbarProvider';\n\nconst DIRECTION = {\n    right: 'left',\n    left: 'right',\n    bottom: 'up',\n    top: 'down',\n} as const;\nexport type DirectionType = typeof DIRECTION[keyof typeof DIRECTION]\n\nexport const getTransitionDirection = (anchorOrigin: Snack['anchorOrigin']): DirectionType => {\n    if (anchorOrigin.horizontal !== 'center') {\n        return DIRECTION[anchorOrigin.horizontal];\n    }\n    return DIRECTION[anchorOrigin.vertical];\n};\n","import { css } from '@emotion/react';\nimport Collapse from '@material-ui/core/Collapse';\nimport { emphasize, styled } from '@material-ui/core/styles';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { RequiredBy, SharedProps, SnackbarProviderProps as ProviderProps, TransitionHandlerProps, VariantType } from '../index';\nimport SnackbarContent from '../SnackbarContent';\nimport { Snack } from '../SnackbarProvider';\nimport { DEFAULTS, objectMerge, REASONS } from '../utils/constants';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport defaultIconVariants from '../utils/defaultIconVariants';\nimport Snackbar from './Snackbar';\nimport { getTransitionDirection } from './SnackbarItem.util';\n\nconst contentRoot = css`\n\tposition: relative;\n\ttransform: translateX(0);\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n`;\n\nconst StyledSnackbar = styled(Snackbar)`\n\t${(props) => props.theme.typography.body2};\n\tbackground-color: ${(props) =>\n\t\temphasize(props.theme.palette.background.default, (props.theme.palette.mode || props.theme.palette.type) === 'light' ? 0.8 : 0.98)};\n\t${contentRoot}\n`;\n\nconst variantSuccess = css`\n\tbackground-color: #43a047; // green\n\tcolor: #fff;\n`;\nconst variantError = css`\n\tbackground-color: #d32f2f; // dark red\n\tcolor: #fff;\n`;\nconst variantInfo = css`\n\tbackground-color: #2196f3; // nice blue\n\tcolor: #fff;\n`;\nconst variantWarning = css`\n\tbackground-color: #ff9800; // amber\n\tcolor: #fff;\n`;\n\ninterface StyledSnackbarContentProps {\n\tlessPadding: boolean;\n\tvariant: VariantType;\n}\n\nconst StyledSnackbarContent = styled(SnackbarContent)<StyledSnackbarContentProps>`\n\t${contentRoot}\n\t${(props) => props.lessPadding && `padding-left: ${8 * 2.5}px;`}\n    ${(props) => props.variant === 'success' && variantSuccess}\n    ${(props) => props.variant === 'error' && variantError}\n    ${(props) => props.variant === 'info' && variantInfo}\n    ${(props) => props.variant === 'warning' && variantWarning}\n`;\n\nconst Message = styled('div')`\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 8px 0;\n`;\n\nconst Action = styled('div')`\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-left: auto;\n\tpadding-left: 16px;\n\tmargin-right: -8px;\n`;\n\ntype RemovedProps =\n\t| 'variant' // the one received from Provider is processed and passed to snack prop\n\t| 'anchorOrigin' // same as above\n\t| 'autoHideDuration' // same as above\n\t| 'preventDuplicate'; // the one recevied from enqueueSnackbar is processed in provider, therefore shouldn't be passed to SnackbarItem */\n\nexport interface SnackbarItemProps extends RequiredBy<Omit<SharedProps, RemovedProps>, 'onEntered' | 'onExited' | 'onClose'> {\n\tsnack: Snack;\n\tdense: ProviderProps['dense'];\n\ticonVariant: ProviderProps['iconVariant'];\n\thideIconVariant: ProviderProps['hideIconVariant'];\n}\n\nconst SnackbarItem: React.FC<SnackbarItemProps> = (props) => {\n\tconst timeout = useRef<ReturnType<typeof setTimeout>>();\n\tconst [collapsed, setCollapsed] = useState(true);\n\n\tuseEffect(\n\t\t() => (): void => {\n\t\t\tif (timeout.current) {\n\t\t\t\tclearTimeout(timeout.current);\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst handleClose = createChainedFunction([props.snack.onClose, props.onClose], props.snack.key);\n\n\tconst handleEntered: TransitionHandlerProps['onEntered'] = () => {\n\t\tif (props.snack.requestClose) {\n\t\t\thandleClose(null, REASONS.INSTRCUTED);\n\t\t}\n\t};\n\n\tconst handleExitedScreen = (): void => {\n\t\ttimeout.current = setTimeout(() => {\n\t\t\tsetCollapsed(!collapsed);\n\t\t}, 125);\n\t};\n\n\tconst {\n\t\tstyle,\n\t\tdense,\n\t\tariaAttributes: otherAriaAttributes,\n\t\tclassName: otherClassName,\n\t\thideIconVariant,\n\t\ticonVariant,\n\t\tsnack,\n\t\taction: otherAction,\n\t\tcontent: otherContent,\n\t\tTransitionComponent: otherTranComponent,\n\t\tTransitionProps: otherTranProps,\n\t\ttransitionDuration: otherTranDuration,\n\t\tonEnter: ignoredOnEnter,\n\t\tonEntered: ignoredOnEntered,\n\t\tonEntering: ignoredOnEntering,\n\t\tonExit: ignoredOnExit,\n\t\tonExited: ignoredOnExited,\n\t\tonExiting: ignoredOnExiting,\n\t\t...other\n\t} = props;\n\n\tconst {\n\t\tpersist,\n\t\tkey,\n\t\topen,\n\t\tentered,\n\t\trequestClose,\n\t\tclassName: singleClassName,\n\t\tvariant,\n\t\tcontent: singleContent,\n\t\taction: singleAction,\n\t\tariaAttributes: singleAriaAttributes,\n\t\tanchorOrigin,\n\t\tmessage: snackMessage,\n\t\tTransitionComponent: singleTranComponent,\n\t\tTransitionProps: singleTranProps,\n\t\ttransitionDuration: singleTranDuration,\n\t\tonEnter,\n\t\tonEntered,\n\t\tonEntering,\n\t\tonExit,\n\t\tonExited,\n\t\tonExiting,\n\t\t...singleSnackProps\n\t} = snack;\n\n\tconst icon = {\n\t\t...defaultIconVariants,\n\t\t...iconVariant,\n\t}[variant];\n\n\tconst ariaAttributes = {\n\t\t'aria-describedby': 'notistack-snackbar',\n\t\t...objectMerge(singleAriaAttributes, otherAriaAttributes),\n\t};\n\n\tconst TransitionComponent = singleTranComponent || otherTranComponent || DEFAULTS.TransitionComponent;\n\tconst transitionDuration = objectMerge(singleTranDuration, otherTranDuration, DEFAULTS.transitionDuration);\n\tconst transitionProps = {\n\t\tdirection: getTransitionDirection(anchorOrigin),\n\t\t...objectMerge(singleTranProps, otherTranProps),\n\t};\n\n\tlet action = singleAction || otherAction;\n\tif (typeof action === 'function') {\n\t\taction = action(key);\n\t}\n\n\tlet content = singleContent || otherContent;\n\tif (typeof content === 'function') {\n\t\tcontent = content(key, snack.message);\n\t}\n\n\tconst callbacks: { [key in keyof TransitionHandlerProps]?: any } = ['onEnter', 'onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited'].reduce(\n\t\t(acc, cbName) => ({\n\t\t\t...acc,\n\t\t\t// @ts-ignore\n\t\t\t[cbName]: createChainedFunction([props.snack[cbName], props[cbName]], props.snack.key),\n\t\t}),\n\t\t{}\n\t);\n\n\treturn (\n\t\t<Collapse unmountOnExit timeout={175} in={collapsed} onExited={callbacks.onExited}>\n\t\t\t{/* @ts-ignore */}\n\t\t\t<StyledSnackbar {...other} {...singleSnackProps} open={open} onClose={handleClose}>\n\t\t\t\t{/* @ts-ignore */}\n\t\t\t\t<TransitionComponent\n\t\t\t\t\tappear\n\t\t\t\t\tin={open}\n\t\t\t\t\ttimeout={transitionDuration}\n\t\t\t\t\t{...transitionProps}\n\t\t\t\t\tonExit={callbacks.onExit}\n\t\t\t\t\tonExiting={callbacks.onExiting}\n\t\t\t\t\tonExited={handleExitedScreen}\n\t\t\t\t\tonEnter={callbacks.onEnter}\n\t\t\t\t\tonEntering={callbacks.onEntering}\n\t\t\t\t\t// order matters. first callbacks.onEntered to set entered: true,\n\t\t\t\t\t// then handleEntered to check if there's a request for closing\n\t\t\t\t\tonEntered={createChainedFunction([callbacks.onEntered, handleEntered])}\n\t\t\t\t>\n\t\t\t\t\t{/* @ts-ignore */}\n\t\t\t\t\t{content || (\n\t\t\t\t\t\t<StyledSnackbarContent\n\t\t\t\t\t\t\t{...ariaAttributes}\n\t\t\t\t\t\t\t{...ariaAttributes}\n\t\t\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t\t\tlessPadding={!hideIconVariant && icon !== undefined}\n\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Message id={ariaAttributes['aria-describedby']}>\n\t\t\t\t\t\t\t\t{!hideIconVariant ? icon : null}\n\t\t\t\t\t\t\t\t{snackMessage}\n\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t{action && <Action>{action}</Action>}\n\t\t\t\t\t\t</StyledSnackbarContent>\n\t\t\t\t\t)}\n\t\t\t\t</TransitionComponent>\n\t\t\t</StyledSnackbar>\n\t\t</Collapse>\n\t);\n};\n\nexport default SnackbarItem;\n","/* eslint-disable */\nconst __DEV__ = process.env.NODE_ENV !== 'production';\n\nexport default (message: string) => {\n    if (!__DEV__) return;\n\n    if (typeof console !== 'undefined') {\n        console.error(message);\n    }\n    try {\n        throw new Error(message);\n    } catch (x) { };\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport { OptionsObject, ProviderContext, RequiredBy, SnackbarKey, SnackbarMessage, SnackbarProviderProps, TransitionHandlerProps } from '.';\nimport SnackbarContainer from './SnackbarContainer';\nimport SnackbarContext from './SnackbarContext';\nimport SnackbarItem from './SnackbarItem';\nimport { DEFAULTS, isDefined, merge, MESSAGES, originKeyExtractor, REASONS } from './utils/constants';\nimport createChainedFunction from './utils/createChainedFunction';\nimport warning from './utils/warning';\n\ntype Reducer = (state: State) => State;\ntype SnacksByPosition = { [key: string]: Snack[] };\n\nexport interface Snack extends RequiredBy<OptionsObject, 'key' | 'variant' | 'anchorOrigin'> {\n\tmessage: SnackbarMessage;\n\topen: boolean;\n\tentered: boolean;\n\trequestClose: boolean;\n}\n\ninterface State {\n\tsnacks: Snack[];\n\tqueue: Snack[];\n\tcontextValue: ProviderContext;\n}\n\nclass SnackbarProvider extends Component<SnackbarProviderProps, State> {\n\tconstructor(props: SnackbarProviderProps) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsnacks: [],\n\t\t\tqueue: [], // eslint-disable-line react/no-unused-state\n\t\t\tcontextValue: {\n\t\t\t\tenqueueSnackbar: this.enqueueSnackbar,\n\t\t\t\tcloseSnackbar: this.closeSnackbar,\n\t\t\t},\n\t\t};\n\t}\n\n\tget maxSnack(): number {\n\t\treturn this.props.maxSnack || DEFAULTS.maxSnack;\n\t}\n\n\t/**\n\t * Adds a new snackbar to the queue to be presented.\n\t * Returns generated or user defined key referencing the new snackbar or null\n\t */\n\tenqueueSnackbar = (message: SnackbarMessage, opts: OptionsObject = {}): SnackbarKey => {\n\t\tconst { key, preventDuplicate, ...options } = opts;\n\n\t\tconst hasSpecifiedKey = isDefined(key);\n\t\tconst id = hasSpecifiedKey ? (key as SnackbarKey) : new Date().getTime() + Math.random();\n\n\t\tconst merger = merge(options, this.props, DEFAULTS);\n\t\tconst snack: Snack = {\n\t\t\tkey: id,\n\t\t\t...options,\n\t\t\tmessage,\n\t\t\topen: true,\n\t\t\tentered: false,\n\t\t\trequestClose: false,\n\t\t\tvariant: merger('variant'),\n\t\t\tanchorOrigin: merger('anchorOrigin'),\n\t\t\tautoHideDuration: merger('autoHideDuration'),\n\t\t};\n\n\t\tif (options.persist) {\n\t\t\tsnack.autoHideDuration = undefined;\n\t\t}\n\n\t\tthis.setState((state) => {\n\t\t\tif ((preventDuplicate === undefined && this.props.preventDuplicate) || preventDuplicate) {\n\t\t\t\tconst compareFunction = (item: Snack): boolean => (hasSpecifiedKey ? item.key === key : item.message === message);\n\n\t\t\t\tconst inQueue = state.queue.findIndex(compareFunction) > -1;\n\t\t\t\tconst inView = state.snacks.findIndex(compareFunction) > -1;\n\t\t\t\tif (inQueue || inView) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.handleDisplaySnack({\n\t\t\t\t...state,\n\t\t\t\tqueue: [...state.queue, snack],\n\t\t\t});\n\t\t});\n\n\t\treturn id;\n\t};\n\n\t/**\n\t * Reducer: Display snack if there's space for it. Otherwise, immediately\n\t * begin dismissing the oldest message to start showing the new one.\n\t */\n\thandleDisplaySnack: Reducer = (state) => {\n\t\tconst { snacks } = state;\n\t\tif (snacks.length >= this.maxSnack) {\n\t\t\treturn this.handleDismissOldest(state);\n\t\t}\n\t\treturn this.processQueue(state);\n\t};\n\n\t/**\n\t * Reducer: Display items (notifications) in the queue if there's space for them.\n\t */\n\tprocessQueue: Reducer = (state) => {\n\t\tconst { queue, snacks } = state;\n\t\tif (queue.length > 0) {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsnacks: [...snacks, queue[0]],\n\t\t\t\tqueue: queue.slice(1, queue.length),\n\t\t\t};\n\t\t}\n\t\treturn state;\n\t};\n\n\t/**\n\t * Reducer: Hide oldest snackbar on the screen because there exists a new one which we have to display.\n\t * (ignoring the one with 'persist' flag. i.e. explicitly told by user not to get dismissed).\n\t *\n\t * Note 1: If there is already a message leaving the screen, no new messages are dismissed.\n\t * Note 2: If the oldest message has not yet entered the screen, only a request to close the\n\t *         snackbar is made. Once it entered the screen, it will be immediately dismissed.\n\t */\n\thandleDismissOldest: Reducer = (state) => {\n\t\tif (state.snacks.some((item) => !item.open || item.requestClose)) {\n\t\t\treturn state;\n\t\t}\n\n\t\tlet popped = false;\n\t\tlet ignore = false;\n\n\t\tconst persistentCount = state.snacks.reduce((acc, current) => acc + (current.open && current.persist ? 1 : 0), 0);\n\n\t\tif (persistentCount === this.maxSnack) {\n\t\t\twarning(MESSAGES.NO_PERSIST_ALL);\n\t\t\tignore = true;\n\t\t}\n\n\t\tconst snacks = state.snacks.map((item) => {\n\t\t\tif (!popped && (!item.persist || ignore)) {\n\t\t\t\tpopped = true;\n\n\t\t\t\tif (!item.entered) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\trequestClose: true,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (item.onClose) item.onClose(null, REASONS.MAXSNACK, item.key);\n\t\t\t\tif (this.props.onClose) this.props.onClose(null, REASONS.MAXSNACK, item.key);\n\n\t\t\t\treturn {\n\t\t\t\t\t...item,\n\t\t\t\t\topen: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn { ...item };\n\t\t});\n\n\t\treturn { ...state, snacks };\n\t};\n\n\t/**\n\t * Set the entered state of the snackbar with the given key.\n\t */\n\thandleEnteredSnack: TransitionHandlerProps['onEntered'] = (node, isAppearing, key) => {\n\t\tif (!isDefined(key)) {\n\t\t\tthrow new Error('handleEnteredSnack Cannot be called with undefined key');\n\t\t}\n\n\t\tthis.setState(({ snacks }) => ({\n\t\t\tsnacks: snacks.map((item) => (item.key === key ? { ...item, entered: true } : { ...item })),\n\t\t}));\n\t};\n\n\t/**\n\t * Hide a snackbar after its timeout.\n\t */\n\thandleCloseSnack: TransitionHandlerProps['onClose'] = (event, reason, key) => {\n\t\t// should not use createChainedFunction for onClose.\n\t\t// because this.closeSnackbar called this function\n\t\tif (this.props.onClose) {\n\t\t\tthis.props.onClose(event, reason, key);\n\t\t}\n\n\t\tif (reason === REASONS.CLICKAWAY) return;\n\t\tconst shouldCloseAll = key === undefined;\n\n\t\tthis.setState(({ snacks, queue }) => ({\n\t\t\tsnacks: snacks.map((item) => {\n\t\t\t\tif (!shouldCloseAll && item.key !== key) {\n\t\t\t\t\treturn { ...item };\n\t\t\t\t}\n\n\t\t\t\treturn item.entered ? { ...item, open: false } : { ...item, requestClose: true };\n\t\t\t}),\n\t\t\tqueue: queue.filter((item) => item.key !== key), // eslint-disable-line react/no-unused-state\n\t\t}));\n\t};\n\n\t/**\n\t * Close snackbar with the given key\n\t */\n\tcloseSnackbar: ProviderContext['closeSnackbar'] = (key) => {\n\t\t// call individual snackbar onClose callback passed through options parameter\n\t\tconst toBeClosed = this.state.snacks.find((item) => item.key === key);\n\t\tif (isDefined(key) && toBeClosed && toBeClosed.onClose) {\n\t\t\ttoBeClosed.onClose(null, REASONS.INSTRUCTED, key);\n\t\t}\n\n\t\tthis.handleCloseSnack(null, REASONS.INSTRUCTED, key);\n\t};\n\n\t/**\n\t * When we set open attribute of a snackbar to false (i.e. after we hide a snackbar),\n\t * it leaves the screen and immediately after leaving animation is done, this method\n\t * gets called. We remove the hidden snackbar from state and then display notifications\n\t * waiting in the queue (if any). If after this process the queue is not empty, the\n\t * oldest message is dismissed.\n\t */\n\t// @ts-ignore\n\thandleExitedSnack: TransitionHandlerProps['onExited'] = (event, key1, key2) => {\n\t\tconst key = key1 || key2;\n\t\tif (!isDefined(key)) {\n\t\t\tthrow new Error('handleExitedSnack Cannot be called with undefined key');\n\t\t}\n\n\t\tthis.setState((state) => {\n\t\t\tconst newState = this.processQueue({\n\t\t\t\t...state,\n\t\t\t\tsnacks: state.snacks.filter((item) => item.key !== key),\n\t\t\t});\n\n\t\t\tif (newState.queue.length === 0) {\n\t\t\t\treturn newState;\n\t\t\t}\n\n\t\t\treturn this.handleDismissOldest(newState);\n\t\t});\n\t};\n\n\trender(): JSX.Element {\n\t\tconst { contextValue } = this.state;\n\t\tconst {\n\t\t\tmaxSnack: dontspread1,\n\t\t\tpreventDuplicate: dontspread2,\n\t\t\tvariant: dontspread3,\n\t\t\tanchorOrigin: dontspread4,\n\t\t\ticonVariant,\n\t\t\tdense = DEFAULTS.dense,\n\t\t\thideIconVariant = DEFAULTS.hideIconVariant,\n\t\t\tdomRoot,\n\t\t\tchildren,\n\t\t\t...props\n\t\t} = this.props;\n\n\t\tconst categ = this.state.snacks.reduce<SnacksByPosition>((acc, current) => {\n\t\t\tconst category = originKeyExtractor(current.anchorOrigin);\n\t\t\tconst existingOfCategory = acc[category] || [];\n\t\t\treturn {\n\t\t\t\t...acc,\n\t\t\t\t[category]: [...existingOfCategory, current],\n\t\t\t};\n\t\t}, {});\n\n\t\tconst snackbars = Object.keys(categ).map((origin) => {\n\t\t\tconst snacks = categ[origin];\n\t\t\treturn (\n\t\t\t\t<SnackbarContainer key={origin} dense={dense} anchorOrigin={snacks[0].anchorOrigin}>\n\t\t\t\t\t{snacks.map((snack) => (\n\t\t\t\t\t\t<SnackbarItem\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\tkey={snack.key}\n\t\t\t\t\t\t\tsnack={snack}\n\t\t\t\t\t\t\tdense={dense}\n\t\t\t\t\t\t\ticonVariant={iconVariant}\n\t\t\t\t\t\t\thideIconVariant={hideIconVariant}\n\t\t\t\t\t\t\tonClose={this.handleCloseSnack}\n\t\t\t\t\t\t\tonExited={createChainedFunction([this.handleExitedSnack, this.props.onExited])}\n\t\t\t\t\t\t\tonEntered={createChainedFunction([this.handleEnteredSnack, this.props.onEntered])}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</SnackbarContainer>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<SnackbarContext.Provider value={contextValue}>\n\t\t\t\t{children}\n\t\t\t\t{domRoot ? createPortal(snackbars, domRoot) : snackbars}\n\t\t\t</SnackbarContext.Provider>\n\t\t);\n\t}\n}\n\nexport default SnackbarProvider;\n","// https://github.com/JamesMGreene/Function.name/blob/58b314d4a983110c3682f1228f845d39ccca1817/Function.name.js#L3\nconst fnNameMatchRegex = /^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^(\\s/]*)\\s*/;\nconst getFunctionName = (fn) => {\n    const match = `${fn}`.match(fnNameMatchRegex);\n    const name = match && match[1];\n    return name || '';\n};\n\n/**\n * @param {function} Component\n * @param {string} fallback\n * @returns {string | undefined}\n */\nconst getFunctionComponentName = (Component, fallback = '') => (\n    Component.displayName || Component.name || getFunctionName(Component) || fallback\n);\n\nconst getWrappedName = (outerType, innerType, wrapperName) => {\n    const functionName = getFunctionComponentName(innerType);\n    return (\n        outerType.displayName || (functionName !== '' ? `${wrapperName}(${functionName})` : wrapperName)\n    );\n};\n\n/** \n * From react-is\n * @link https://github.com/facebook/react/blob/master/packages/shared/ReactSymbols.js\n */\nconst ForwardRef = () => {\n    const symbolFor = typeof Symbol === 'function' && Symbol.for;\n    return symbolFor ? symbolFor('react.forward_ref') : 0xead0\n}\n\n/**\n * https://github.com/facebook/react/blob/769b1f270e1251d9dbdce0fcbd9e92e502d059b8/packages/shared/getComponentName.js\n *\n * @param {React.ReactType} Component\n * @returns {string | undefined}\n */\nexport default (Component) => {\n    if (Component == null) {\n        return undefined;\n    }\n\n    if (typeof Component === 'string') {\n        return Component;\n    }\n\n    if (typeof Component === 'function') {\n        return getFunctionComponentName(Component, 'Component');\n    }\n\n    if (typeof Component === 'object') {\n        switch (Component.$$typeof) {\n            case ForwardRef():\n                return getWrappedName(Component, Component.render, 'ForwardRef');\n            default:\n                return undefined;\n        }\n    }\n\n    return undefined;\n};\n","import React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport getDisplayName from './utils/getDisplayName';\nimport SnackbarContext from './SnackbarContext';\n\nconst withSnackbar = (Component) => {\n    const WrappedComponent = React.forwardRef((props, ref) => (\n        <SnackbarContext.Consumer>\n            {context => (\n                <Component\n                    {...props}\n                    ref={ref}\n                    enqueueSnackbar={context.enqueueSnackbar}\n                    closeSnackbar={context.closeSnackbar}\n                />\n            )}\n        </SnackbarContext.Consumer>\n    ));\n\n    if (process.env.NODE_ENV !== 'production') {\n        WrappedComponent.displayName = `WithSnackbar(${getDisplayName(Component)})`;\n    }\n\n    hoistNonReactStatics(WrappedComponent, Component);\n\n    return WrappedComponent;\n};\n\nexport default withSnackbar;\n","import { useContext } from 'react';\nimport SnackbarContext from './SnackbarContext';\nimport { ProviderContext } from '.';\n\nexport default (): ProviderContext => useContext(SnackbarContext);\n"],"names":["MESSAGES","NO_PERSIST_ALL","SNACKBAR_INDENTS","view","dense","snackbar","DEFAULTS","maxSnack","hideIconVariant","variant","autoHideDuration","anchorOrigin","vertical","horizontal","TransitionComponent","Slide","transitionDuration","enter","exit","capitalise","text","charAt","toUpperCase","slice","originKeyExtractor","anchor","REASONS","TIMEOUT","CLICKAWAY","MAXSNACK","INSTRUCTED","isDefined","value","numberOrNull","numberish","merge","options","props","defaults","name","objectMerge","collapse","container","wrapper","xsWidthMargin","rootDense","css","top","bottom","left","theme","breakpoints","up","down","right","SnackbarContainer","styled","zIndex","React","memo","createContext","SnackbarContent","createChainedFunction","funcs","extraArg","reduce","acc","func","process","env","NODE_ENV","console","error","chainedFunction","args","argums","indexOf","push","apply","CheckIcon","SvgIcon","d","WarningIcon","ErrorIcon","InfoIcon","iconStyles","fontSize","marginInlineEnd","defaultIconVariants","undefined","success","style","warning","info","useEnhancedEffect","window","useEventCallback","fn","ref","current","Snackbar","children","ClickAwayListenerProps","disableWindowBlurListener","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration","other","timerAutoHide","handleClose","setAutoHideTimer","autoHideDurationParam","clearTimeout","setTimeout","handlePause","handleResume","handleMouseEnter","event","handleMouseLeave","handleClickAway","addEventListener","removeEventListener","React.createElement","DIRECTION","getTransitionDirection","contentRoot","StyledSnackbar","typography","body2","emphasize","palette","background","mode","type","variantSuccess","variantError","variantInfo","variantWarning","StyledSnackbarContent","lessPadding","Message","Action","SnackbarItem","timeout","useRef","useState","collapsed","setCollapsed","useEffect","snack","key","handleEntered","requestClose","INSTRCUTED","handleExitedScreen","otherAriaAttributes","ariaAttributes","otherClassName","iconVariant","otherAction","action","otherContent","content","otherTranComponent","otherTranProps","TransitionProps","otherTranDuration","ignoredOnEnter","entered","singleContent","singleAction","singleAriaAttributes","snackMessage","message","singleTranComponent","singleTranProps","singleTranDuration","onEnter","singleSnackProps","icon","transitionProps","direction","callbacks","cbName","Collapse","unmountOnExit","onExited","appear","onExit","onExiting","onEntering","onEntered","role","id","__DEV__","Error","x","SnackbarProvider","opts","preventDuplicate","hasSpecifiedKey","Date","getTime","Math","random","merger","persist","setState","state","compareFunction","item","inQueue","queue","findIndex","inView","snacks","handleDisplaySnack","length","handleDismissOldest","processQueue","some","popped","ignore","persistentCount","map","node","isAppearing","reason","shouldCloseAll","filter","toBeClosed","find","handleCloseSnack","key1","key2","newState","contextValue","enqueueSnackbar","closeSnackbar","render","dontspread1","domRoot","categ","category","existingOfCategory","snackbars","Object","keys","origin","handleExitedSnack","handleEnteredSnack","SnackbarContext","Provider","createPortal","Component","fnNameMatchRegex","getFunctionName","match","getFunctionComponentName","fallback","displayName","getWrappedName","outerType","innerType","wrapperName","functionName","ForwardRef","symbolFor","Symbol","$$typeof","withSnackbar","WrappedComponent","forwardRef","context","getDisplayName","hoistNonReactStatics","useContext"],"mappings":"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"}